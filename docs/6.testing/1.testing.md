---
title: 'Testing Guide'
description: 'Vitest and Playwright testing setup and best practices'
navigation:
  title: 'Testing Guide'
  order: 1
---

This project includes both unit/component tests (Vitest) and end-to-end tests (Playwright).

## ğŸ§ª Unit & Component Tests (Vitest)

### Running Tests

```bash
# Run all unit tests
cd apps/web
pnpm test

# Run tests in watch mode
pnpm test --watch

# Run tests with UI
pnpm test:ui

# Run tests with coverage
pnpm test:coverage
```

### Test Structure

- `apps/web/tests/components/` - Component tests
- `apps/web/tests/composables/` - Composable tests
- `apps/web/tests/utils/` - Utility function tests

### Writing Tests

Example component test:

```typescript
import { describe, it, expect } from 'vitest'
import { mount } from '@vue/test-utils'
import MyComponent from '~/components/MyComponent.vue'

describe('MyComponent', () => {
  it('renders correctly', () => {
    const wrapper = mount(MyComponent, {
      props: {
        title: 'Hello'
      }
    })
    expect(wrapper.text()).toContain('Hello')
  })
})
```

## ğŸ­ E2E Tests (Playwright)

### First Time Setup

Install Playwright browsers:

```bash
npx playwright install
```

### Running E2E Tests

```bash
# Run all E2E tests
pnpm test:e2e

# Run with UI mode (recommended for development)
pnpm test:e2e:ui

# Run in debug mode
pnpm test:e2e:debug

# View test report
pnpm test:e2e:report

# Run specific test file
npx playwright test e2e/auth.spec.ts

# Run tests in specific browser
npx playwright test --project=chromium
```

### Test Structure

- `e2e/` - All E2E test files
  - `homepage.spec.ts` - Homepage tests
  - `auth.spec.ts` - Authentication flow tests
  - `dashboard.spec.ts` - Dashboard tests

### Writing E2E Tests

Example E2E test:

```typescript
import { test, expect } from '@playwright/test'

test('should login successfully', async ({ page }) => {
  await page.goto('/login')

  await page.fill('[name="email"]', 'test@example.com')
  await page.fill('[name="password"]', 'password123')
  await page.click('button[type="submit"]')

  await expect(page).toHaveURL('/dashboard')
})
```

## ğŸ“Š Test Coverage

Run unit tests with coverage:

```bash
cd apps/web
pnpm test:coverage
```

Coverage reports will be generated in:
- `apps/web/coverage/` - HTML coverage report

## ğŸ¤– CI/CD Integration

### GitHub Actions Example

```yaml
name: Tests

on: [push, pull_request]

jobs:
  unit-tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: pnpm/action-setup@v2
      - uses: actions/setup-node@v4
      - run: pnpm install
      - run: cd apps/web && pnpm test

  e2e-tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: pnpm/action-setup@v2
      - uses: actions/setup-node@v4
      - run: pnpm install
      - run: npx playwright install --with-deps
      - run: pnpm test:e2e
```

## ğŸ”§ Configuration

- **Vitest Config**: `apps/web/vitest.config.ts`
- **Playwright Config**: `playwright.config.ts`

## ğŸ“ Best Practices

### Unit Tests
- Test one thing at a time
- Use descriptive test names
- Mock external dependencies
- Aim for >80% coverage on critical code

### E2E Tests
- Test user flows, not implementation details
- Use data-testid attributes for stable selectors
- Keep tests independent
- Clean up test data after each test

## ğŸ› Debugging

### Debug Unit Tests

```bash
cd apps/web
pnpm test --inspect-brk
```

### Debug E2E Tests

```bash
# Opens Playwright Inspector
pnpm test:e2e:debug

# Or use the UI mode
pnpm test:e2e:ui
```

## ğŸ“š Resources

- [Vitest Documentation](https://vitest.dev/)
- [Vue Test Utils](https://test-utils.vuejs.org/)
- [Playwright Documentation](https://playwright.dev/)
- [Nuxt Test Utils](https://nuxt.com/docs/getting-started/testing)

