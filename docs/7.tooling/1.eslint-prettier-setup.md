---
title: 'ESLint & Prettier'
description: 'Code formatting and linting configuration'
navigation:
  title: 'ESLint & Prettier'
  order: 1
---

## Overview

This document describes the shared ESLint and Prettier configuration setup for the app-platform monorepo.

## What Was Created

### 1. Shared Configuration Package (`packages/eslint-config/`)

A shared package that all apps can use:

```
packages/eslint-config/
├── package.json              # Package configuration with all dependencies
├── index.js                  # Main entry (re-exports base)
├── base.js                   # Base JavaScript configuration
├── typescript.js             # TypeScript configuration
├── vue.js                    # Vue/Nuxt configuration
├── node.js                   # Node.js/Backend configuration
├── prettier.config.js        # Shared Prettier configuration
├── .prettierignore          # Files to ignore in Prettier
├── README.md                # Package documentation
└── USAGE.md                 # Quick reference guide
```

### 2. Root Configuration Files

```
├── .prettierrc.js           # Root Prettier config
├── .prettierignore         # Root Prettier ignore
├── .editorconfig           # Editor configuration
├── .vscode/
│   ├── settings.json       # VSCode settings
│   └── extensions.json     # Recommended extensions
└── CONTRIBUTING.md         # Contributing guide
```

### 3. App Configurations

#### Web App (`apps/web/`)
- Updated `eslint.config.mjs` to use Nuxt's config with overrides
- Added `prettier.config.js`
- Added `.prettierignore`
- Updated `package.json` dependencies and scripts

#### Backend App (`apps/backend/`)
- Updated `eslint.config.js` to use shared Node.js config
- Added `prettier.config.js`
- Added `.prettierignore`
- Updated `package.json` dependencies and scripts

## Features

### ESLint

✅ **Base Configuration**
- ESLint recommended rules
- Import ordering and organization
- Code style best practices
- Prettier integration

✅ **TypeScript Support**
- Type-aware linting
- Consistent type imports
- No unused variables (with `_` prefix support)
- Type export consistency

✅ **Vue/Nuxt Support**
- Vue 3 recommended rules
- Component naming conventions
- Template best practices
- Script setup support

✅ **Node.js Support**
- Node.js globals
- Backend-specific rules
- Console allowed in server code

### Prettier

✅ **Consistent Formatting**
- 100 character line width
- 2-space indentation
- Single quotes
- Semicolons
- Trailing commas (ES5)
- LF line endings

✅ **File Type Support**
- JavaScript/TypeScript
- Vue
- JSON
- Markdown
- CSS/SCSS

## Usage

### Linting

```bash
# From root (all projects)
pnpm lint
pnpm lint:fix

# From specific app
cd apps/web
pnpm lint
pnpm lint:fix
```

### Formatting

```bash
# From root (all files)
pnpm format
pnpm format:check

# From specific app
cd apps/web
pnpm format
pnpm format:check
```

### Type Checking

```bash
# From root
pnpm type-check

# From specific app
cd apps/backend
pnpm typecheck
```

## IDE Integration

### VS Code

The workspace is pre-configured with:
- ✅ Format on save
- ✅ ESLint auto-fix on save
- ✅ Prettier as default formatter
- ✅ Recommended extensions

Just install the recommended extensions and you're ready to go!

### Other IDEs

1. Install ESLint and Prettier plugins
2. Enable format on save
3. Point to the respective config files

## Configuration Details

### Import Ordering

Imports are automatically organized in this order:
1. Built-in modules (e.g., `fs`, `path`)
2. External packages (e.g., `vue`, `lodash`)
3. Internal packages (e.g., `@app-platform/*`)
4. Parent imports (e.g., `../utils`)
5. Sibling imports (e.g., `./Button`)
6. Index imports (e.g., `./`)

Within each group, imports are sorted alphabetically.

### Ignored Files

The following are ignored by default:
- `node_modules/`
- Build outputs (`dist/`, `.nuxt/`, `build/`)
- Database files (`*.sqlite`, `*.db`)
- Auto-generated files
- CMS data directories

## Customization

### Per-Project Overrides

Each app can override rules in their `eslint.config.js`:

```javascript
module.exports = [
  ...baseConfig,
  {
    rules: {
      'no-console': 'off', // Allow console in this project
    },
  },
];
```

### Prettier Overrides

Override Prettier settings in project's `prettier.config.js`:

```javascript
const baseConfig = require('@app-platform/eslint-config/prettier.config.js');

module.exports = {
  ...baseConfig,
  printWidth: 120, // Override line width
};
```

## Package Versions

All packages use the latest stable versions:
- ESLint: ^9.27.0
- Prettier: ^3.5.3
- TypeScript ESLint: ^8.29.1
- Vue ESLint Plugin: ^10.0.0

## Scripts Added

### Root (`package.json`)
- `pnpm lint` - Lint all projects
- `pnpm lint:fix` - Fix linting issues
- `pnpm format` - Format all files
- `pnpm format:check` - Check formatting

### Apps
- `pnpm lint` - Lint the app
- `pnpm lint:fix` - Fix linting issues
- `pnpm format` - Format files
- `pnpm format:check` - Check formatting

## Dependencies

### Removed from Apps
- `@adonisjs/eslint-config` (backend)
- `@adonisjs/prettier-config` (backend)
- `@nuxtjs/eslint-config-typescript` (web)
- `@nuxtjs/eslint-module` (web)
- Redundant TypeScript ESLint packages

### Added to Apps
- `@app-platform/eslint-config` (workspace reference)

All ESLint and Prettier dependencies are now centralized in `packages/eslint-config/`.

## Benefits

✅ **Consistency**: All projects use the same rules
✅ **Maintainability**: Update rules in one place
✅ **DRY**: No duplicate configuration
✅ **Type Safety**: TypeScript-aware linting
✅ **Developer Experience**: Auto-fix and format on save
✅ **CI/CD Ready**: Lint and format checks in pipeline

## Troubleshooting

### ESLint not working
- Restart ESLint server in VSCode
- Check `eslint.config.js` exists
- Verify dependencies are installed

### Prettier conflicts with ESLint
- Shouldn't happen (we use `eslint-config-prettier`)
- Run `pnpm format` then `pnpm lint:fix`

### Import ordering not working
- Run `pnpm lint:fix` to auto-fix
- Check import plugin is enabled

## Next Steps

1. ✅ Configuration is set up
2. ✅ Dependencies installed
3. ✅ Apps configured
4. ⬜ Run `pnpm lint` to check for issues
5. ⬜ Run `pnpm format` to format all files
6. ⬜ Commit changes

## Resources

- [ESLint Config README](../packages/eslint-config/README.md)
- [Usage Guide](../packages/eslint-config/USAGE.md)
- [Contributing Guide](../CONTRIBUTING.md)

