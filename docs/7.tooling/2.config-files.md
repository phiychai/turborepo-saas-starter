---
title: 'Configuration Files'
description: 'Documentation for configuration files in the project'
navigation:
  title: 'Configuration Files'
  order: 2
---

## File Extensions Summary

### Rule of Thumb

**If your `package.json` has `"type": "module"`:**
- Use `.cjs` for CommonJS files (files with `require()` and `module.exports`)
- Use `.js` for ES module files (files with `import` and `export`)

**If your `package.json` does NOT have `"type": "module"`:**
- Use `.js` for CommonJS files (default)
- Use `.mjs` for ES module files

## Current Configuration

### Apps Web (`apps/web/`)

Package type: `"type": "module"` ✅

| File                  | Extension | Why                                |
| --------------------- | --------- | ---------------------------------- |
| `eslint.config.mjs`   | `.mjs`    | Uses `import` (ES module syntax)   |
| `prettier.config.cjs` | `.cjs`    | Uses `require()` (CommonJS syntax) |

### Apps Backend (`apps/backend/`)

Package type: `"type": "module"` ✅

| File                  | Extension | Why                                |
| --------------------- | --------- | ---------------------------------- |
| `eslint.config.cjs`   | `.cjs`    | Uses `require()` (CommonJS syntax) |
| `prettier.config.cjs` | `.cjs`    | Uses `require()` (CommonJS syntax) |

### Packages ESLint Config (`packages/eslint-config/`)

Package type: CommonJS (no `"type"` field) ✅

| File                 | Extension | Why                                     |
| -------------------- | --------- | --------------------------------------- |
| `index.js`           | `.js`     | CommonJS package, uses `require()`      |
| `base.js`            | `.js`     | CommonJS package, uses `require()`      |
| `typescript.js`      | `.js`     | CommonJS package, uses `require()`      |
| `vue.js`             | `.js`     | CommonJS package, uses `require()`      |
| `node.js`            | `.js`     | CommonJS package, uses `require()`      |
| `prettier.config.js` | `.js`     | CommonJS package, uses `module.exports` |

### Root

Package type: CommonJS (no `"type"` field) ✅

| File             | Extension | Why                                |
| ---------------- | --------- | ---------------------------------- |
| `.prettierrc.js` | `.js`     | CommonJS package, uses `require()` |
| `.editorconfig`  | N/A       | Not a JS file                      |

## Quick Reference

### ✅ Correct Usage

```javascript
// apps/web/prettier.config.cjs (package has "type": "module")
module.exports = require('@app-platform/eslint-config/prettier.config.js');
```

```javascript
// apps/web/eslint.config.mjs (package has "type": "module")
import withNuxt from './.nuxt/eslint.config.mjs';
export default withNuxt({});
```

```javascript
// packages/eslint-config/index.js (package is CommonJS)
module.exports = require('./base.js');
```

### ❌ Common Mistakes

```javascript
// ❌ apps/web/prettier.config.js (won't work - package is ESM)
module.exports = require('@app-platform/eslint-config/prettier.config.js');
// Error: require() of ES Module not supported

// ✅ Should be .cjs instead:
// apps/web/prettier.config.cjs
```

```javascript
// ❌ apps/backend/eslint.config.js (won't work - package is ESM)
const config = require('@app-platform/eslint-config/node');
// Error: require() of ES Module not supported

// ✅ Should be .cjs instead:
// apps/backend/eslint.config.cjs
```

## How to Check

Run this command to see the module type of a package:

```bash
# Check if a package is ESM
cat apps/web/package.json | grep "type"

# If it shows "type": "module", then:
# - .js files are ES modules (use import/export)
# - .cjs files are CommonJS (use require/module.exports)

# If it doesn't show "type" field, then:
# - .js files are CommonJS (use require/module.exports)
# - .mjs files are ES modules (use import/export)
```

## See Also

- [Module Types](./3.module-types) - Detailed explanation of module types and when to use each
- [ESLint & Prettier](./1.eslint-prettier-setup) - Setup documentation

